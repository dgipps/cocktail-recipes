{% extends "recipes/base.html" %}

{% block title %}All Recipes - Cocktails{% endblock %}

{% block content %}
<h1>Recipes</h1>

<div class="filter-row">
  <input type="search"
         name="q"
         placeholder="Search recipes..."
         value="{{ search }}"
         hx-get="{% url 'recipe_list' %}"
         hx-trigger="input changed delay:300ms, search"
         hx-target="#results"
         hx-push-url="true"
         hx-include="[name='cat']">

  <input type="text"
         name="cat"
         list="category-list"
         placeholder="Filter by category..."
         value="{{ cat }}"
         autocomplete="off"
         hx-get="{% url 'recipe_list' %}"
         hx-trigger="change"
         hx-target="#results"
         hx-push-url="true"
         hx-include="[name='q']">
  <datalist id="category-list">
    {% for c in categories %}
    <option value="{{ c.name }}"></option>
    {% endfor %}
  </datalist>
</div>

<div id="results">
    {% include "recipes/partials/recipe_results.html" %}
</div>
{% endblock %}
